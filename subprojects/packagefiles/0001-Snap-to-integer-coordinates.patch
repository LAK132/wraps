From 1f16e42abaf9e2dc6b14b1f17a3c1d91f52a89f1 Mon Sep 17 00:00:00 2001
From: LAK132 <1386467+LAK132@users.noreply.github.com>
Date: Sat, 3 Jun 2023 20:02:14 +0930
Subject: [PATCH] Snap to integer coordinates

---
 imgui_canvas.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/imgui_canvas.cpp b/imgui_canvas.cpp
index c71a413..a0bb747 100644
--- a/imgui_canvas.cpp
+++ b/imgui_canvas.cpp
@@ -1,6 +1,7 @@
 # define IMGUI_DEFINE_MATH_OPERATORS
 # include "imgui_canvas.h"
 # include <type_traits>
+# include <cmath>
 
 // https://stackoverflow.com/a/36079786
 # define DECLARE_HAS_MEMBER(__trait_name__, __member_name__)                         \
@@ -186,7 +187,8 @@ void ImGuiEx::Canvas::SetView(const CanvasView& view)
 
     if (m_View.Origin.x != view.Origin.x || m_View.Origin.y != view.Origin.y)
     {
-        m_View.Origin = view.Origin;
+        m_View.Origin.x = std::truncf(view.Origin.x);
+        m_View.Origin.y = std::truncf(view.Origin.y);
 
         UpdateViewTransformPosition();
     }
-- 
2.34.1

